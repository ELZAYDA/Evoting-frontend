<!-- <div class="vote-container">
  <!-- ุดุฑูุท ุงูุชูุฏู -->
  <div class="progress-bar" [class.hidden]="voteSubmitted">
    <div class="progress-step active">1</div>
    <div class="progress-line"></div>
    <div class="progress-step" [class.active]="selectedCandidate">2</div>
    <div class="progress-line"></div>
    <div class="progress-step" [class.active]="voteSubmitted">3</div>
  </div>

  <!-- ุญุงูุฉ ุงูุชุตููุช ุงูููุชูู -->
  <div class="vote-success" *ngIf="voteSubmitted">
    <div class="success-content">
      <div class="success-icon">โ</div>
      <h2>ุชู ุงูุชุตููุช ุจูุฌุงุญ!</h2>
      <p>ุดูุฑุงู ููุดุงุฑูุชู ูู ุงูุนูููุฉ ุงูุงูุชุฎุงุจูุฉ. ุตูุชู ูุณุงูู ูู ุตูุน ุงููุฑุงุฑ.</p>
      <div class="success-actions">
        <button class="btn-primary" (click)="viewResults()">ุนุฑุถ ุงููุชุงุฆุฌ</button>
        <button class="btn-secondary" (click)="backToElections()">ุงูุนูุฏุฉ ุฅูู ุงูุงูุชุฎุงุจุงุช</button>
      </div>
    </div>
  </div>

  <!-- ูุญุชูู ุงูุชุตููุช ุงูุฑุฆูุณู -->
  <div class="vote-content" *ngIf="!voteSubmitted">
    <!-- ุนููุงู ุงูุตูุญุฉ -->
    <div class="vote-header">
      <button class="back-btn" (click)="backToElections()">
        <span class="back-icon">โ</span>
        ุฑุฌูุน
      </button>
      <div class="header-content">
        <h1>{{ electionTitle }}</h1>
        <p>{{ electionDescription }}</p>
      </div>
    </div>

    <!-- ุฃุฏูุงุช ุงูุชุตููุฉ ูุงูุจุญุซ -->
    <div class="filter-tools" *ngIf="candidates.length > 0">
      <div class="search-container">
        <div class="search-box">
          <input 
            type="text" 
            placeholder="ุงุจุญุซ ุนู ูุฑุดุญ ุฃู ุญุฒุจ..." 
            [value]="searchTerm"
            (input)="onSearchChange($event)"
            class="search-input"
          >
          <span class="search-icon">๐</span>
        </div>
        
        <button class="clear-filters-btn" (click)="clearFilters()">
          ูุณุญ ุงูููุงุชุฑ
        </button>
      </div>

      <div class="filter-controls">
        <div class="filter-group" *ngIf="elections.length > 2">
          <label for="election-filter">ุชุตููุฉ ุญุณุจ ุงูุงูุชุฎุงุจุฉ:</label>
          <select id="election-filter" [value]="selectedElection" (change)="onElectionChange($event)" class="filter-select">
            <option value="all">ุฌููุน ุงูุงูุชุฎุงุจุงุช</option>
            <ng-container *ngFor="let election of elections">
              <option *ngIf="election !== 'all'" [value]="election">{{election}}</option>
            </ng-container>
          </select>
        </div>

        <div class="filter-group">
          <label for="sort-filter">ุชุฑุชูุจ ุญุณุจ:</label>
          <select id="sort-filter" [value]="sortBy" (change)="onSortChange($event)" class="filter-select">
            <option value="name">ุงูุงุณู</option>
            <option value="votes">ุนุฏุฏ ุงูุฃุตูุงุช</option>
          </select>
        </div>
      </div>
    </div>

    <!-- ุญุงูุฉ ุงูุชุญููู -->
    <div *ngIf="candidates.length === 0" class="loading-state">
      <div class="loading-spinner"></div>
      <p>ุฌุงุฑู ุชุญููู ุจูุงูุงุช ุงููุฑุดุญูู...</p>
    </div>

    <!-- ูุงุฆูุฉ ุงููุฑุดุญูู -->
    <div class="candidates-list" *ngIf="filteredCandidates.length > 0">
      <div
        *ngFor="let candidate of filteredCandidates; trackBy: trackByCandidateId"
        class="candidate-card"
        [class.selected]="selectedCandidate === candidate.candidateId"
        (click)="selectCandidate(candidate.candidateId)"
      >
        <div class="candidate-image">
          <img 
            [src]="candidate.photoUrl || 'assets/default-candidate.jpg'" 
            [alt]="candidate.fullName"
            onerror="this.src='assets/default-candidate.jpg'"
          >
          <div class="selection-indicator">
            <div class="checkmark" *ngIf="selectedCandidate === candidate.candidateId">โ</div>
          </div>
          <div class="votes-badge">
            <span>{{ candidate.votesCount | number }} ุตูุช</span>
          </div>
        </div>
       
        <div class="candidate-info">
          <h3>{{ candidate.fullName }}</h3>
          <p class="position">{{ candidate.party }}</p>
          <span class="election-badge">{{ candidate.electionTitle }}</span>
          
          <!-- ูุณุจุฉ ุงูุฃุตูุงุช -->
          <div class="votes-percentage" *ngIf="candidate.votesCount > 0">
            <span class="percentage">{{ calculatePercentage(candidate.votesCount) }}%</span>
            <div class="progress-bar-inline">
              <div 
                class="progress-fill-inline" 
                [style.width]="calculatePercentage(candidate.votesCount) + '%'"
              ></div>
            </div>
          </div>

          <div class="program" *ngIf="candidate.biography">
            <h4>ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ:</h4>
            <p>{{ candidate.biography }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ุญุงูุฉ ุนุฏู ูุฌูุฏ ูุชุงุฆุฌ -->
    <div *ngIf="candidates.length > 0 && filteredCandidates.length === 0" class="no-candidates">
      <div class="empty-state">
        <h3>ูุง ุชูุฌุฏ ูุชุงุฆุฌ</h3>
        <p>ูู ูุชููู ูู ุงูุนุซูุฑ ุนูู ุฃู ูุฑุดุญูู ููุทุจููู ุนูู ูุนุงููุฑ ุงูุจุญุซ ุงูุฎุงุตุฉ ุจู.</p>
        <button class="btn-primary" (click)="clearFilters()">
          ุนุฑุถ ุฌููุน ุงููุฑุดุญูู
        </button>
      </div>
    </div>

    <!-- ุฒุฑ ุงูุชุตููุช -->
    <div class="vote-actions" *ngIf="filteredCandidates.length > 0">
      <button
        class="vote-btn"
        [class.disabled]="!selectedCandidate"
        [class.loading]="isSubmitting"
        (click)="submitVote()"
        [disabled]="!selectedCandidate || isSubmitting"
      >
        <span *ngIf="!isSubmitting">ุงูุชุตููุช ุงูุขู</span>
        <span *ngIf="isSubmitting">ุฌุงุฑู ุงูุชุตููุช...</span>
      </button>
     
      <p class="vote-note" *ngIf="!selectedCandidate">
        ูุฑุฌู ุงุฎุชูุงุฑ ูุฑุดุญ ูุงุญุฏ ููุชุตููุช
      </p>
    </div>

    <!-- ุญุงูุฉ ุนุฏู ูุฌูุฏ ูุฑุดุญูู -->
    <div class="no-candidates" *ngIf="candidates.length === 0">
      <div class="empty-state">
        <h3>ูุง ููุฌุฏ ูุฑุดุญูู ูู ูุฐู ุงูุงูุชุฎุงุจุงุช ุญุงููุงู</h3>
        <p>ููููู ุงูุนูุฏุฉ ูุงุญูุงู ุนูุฏูุง ูุชู ุชุณุฌูู ุงููุฑุดุญูู</p>
        <button class="btn-primary" (click)="backToElections()">ุงูุนูุฏุฉ ุฅูู ุงูุงูุชุฎุงุจุงุช</button>
      </div>
    </div>

    <!-- ุฅุญุตุงุฆูุงุช -->
    <div class="stats-section" *ngIf="filteredCandidates.length > 0">
      <div class="stat-item">
        <span class="stat-number">{{ filteredCandidates.length }}</span>
        <span class="stat-label">ูุฑุดุญ</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{ getActiveCandidatesCount() }}</span>
        <span class="stat-label">ูุฑุดุญ ูุดุท</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{ getTotalVotes() | number }}</span>
        <span class="stat-label">ุฅุฌูุงูู ุงูุฃุตูุงุช</span>
      </div>
    </div>
  </div>
</div> -->